<script>
	var currentBasicSolutions=0;
	var currentIntermediateSolutions=0;
</script>
<section class="mbr-section content8 cid-qYnID8HJTn" id=" title">
	<section class="mbr-section content4 cid-qYh0wRA9Kt" id="content4-4z">
		<div class="container">
			<div class="media-container-row">
				<div class=" title col-12 col-md-8">
					<h2 class="align-center pb-3 mbr-fonts-style display-2">
						Flow control instructions</h2>
					<h3 class="mbr-section-subtitle align-center mbr-light mbr-fonts-style display-5">
						Learn how to make decisions with 'if' statements and repeat blocks of instructions with 'while' loops.</h3>

				</div>
			</div>
		</div>
	</section>
</section>

<section class="mbr-section article content1 cid-qYh0wSDsTN" id="content2-51">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">
                <blockquote><strong>Required material. </strong><ul><li>An Arduino or ESP board, i.e.: <a onclick="onPageClicked('https://roboticafacil.es/en/prod/arduino-uno-r3/');" style="color:#1ec6c6" target="_blank">Arduino Uno</a>, <a onclick="onPageClicked('https://roboticafacil.es/en/prod/arduino-nano-v3-0-compatible/');" style="color:#1ec6c6" target="_blank">Arduino Nano</a>, <a style="color:#1ec6c6" target="_blank" onclick="onPageClicked('https://roboticafacil.es/prod/wemos-d1-r2/');">Wemos D1 R2</a> or <a style="color:#1ec6c6" target="_blank" onclick="onPageClicked('https://roboticafacil.es/en/prod/wemos-esp32-d1-r32/');">Wemos D1 R32</a>, <a onclick="onPageClicked('https://roboticafacil.es/prod/nodemcu-v3-esp8266-wifi/');" style="color:#1ec6c6" target="_blank">NodeMCU</a>, etc...</li><li>A <a onclick="onPageClicked('https://roboticafacil.es/en/prod/multisensor-shield/');" style="color:#1ec6c6" target="_blank">Multisensor shield</a> or two LEDs (red and blue connected to pins D12 and D13) and two push-buttons connected to pins D2 and D3.</li></ul></blockquote>
            </div>
        </div>
    </div>
</section>

<section class="cid-qYh0wSah5G" id="image3-50">
    <figure class="mbr-figure container">
            <div class="mbr-text align-center mbr-fonts-style display-5">Multisensor</div>
            <div class="image-block mbr-fonts-style display-7" style="width: 50%;">
                <img id="schematic" src="tutorial/assets/images/Electronics/multisensor_wemosD1R32_bb.png" width="1400" alt="Multisensor" title=""></img>
            </div>
    </figure>
</section>

<section class="cid-qYh0wSah5G" id="image3-50">
    <figure class="mbr-figure container">
            <div class="mbr-text align-center mbr-fonts-style display-5">Modules</div>
            <div class="image-block mbr-fonts-style display-7" style="width: 50%;">
                <img id="schematic_modules" src="tutorial/assets/images/Electronics/multisensor_wemosD1R32_LEDs_pushbuttons_modules_bb.png" width="1400" alt="Modules" title=""></img>
            </div>
    </figure>
</section>

<section class="cid-qYh0wSah5G" id="image3-50">
    <figure class="mbr-figure container">
            <div class="mbr-text align-center mbr-fonts-style display-5">Protoboard</div>
            <div class="image-block mbr-fonts-style display-7" style="width: 50%;">
                <img id="schematic_proto" src="tutorial/assets/images/Electronics/multisensor_wemosD1R32_LEDs_pushbuttons_bb.png" width="1400" alt="Protoboard" title=""></img>
            </div>
    </figure>
</section>

<section class="mbr-section article content9 cid-qYh5KdWW4b" id="content9-5u">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">
                    Worked instructions</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-5w">
    <div class="container">
		<div class="media-container-row">
			<div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol id="workedInstructions">
					<li><div><span id='tooltipInstruction1'></span></div><div  id='blocklyInstruction1'></div><script>injectInstructionTooltip('controls_repeat','blocklyInstruction1','tooltipInstruction1');</script></li>
					<li><div><span id='tooltipInstruction2'></span></div><div  id='blocklyInstruction2'></div><script>injectInstructionTooltip('controls_for','blocklyInstruction2','tooltipInstruction2');</script></li>
					<li><div><span id='tooltipInstruction3'></span></div><div  id='blocklyInstruction3'></div><script>injectInstructionTooltip('controls_if','blocklyInstruction3','tooltipInstruction3');</script></li>
					<li><div><span id='tooltipInstruction4'></span></div><div  id='blocklyInstruction4'></div><script>injectInstructionTooltip('base_delay','blocklyInstruction4','tooltipInstruction4');</script></li>
					<li><div><span id='tooltipInstruction5'></span></div><div  id='blocklyInstruction5'></div><script>injectInstructionTooltip('controls_flow_statements','blocklyInstruction5','tooltipInstruction5');</script></li>
					<li><div><span id='tooltipInstruction6'></span></div><div  id='blocklyInstruction6'></div><script>injectInstructionTooltip('controls_whileUntil','blocklyInstruction6','tooltipInstruction6');</script></li>
					<li><div><span id='tooltipInstruction6a'></span></div><div  id='blocklyInstruction6a'></div><script>injectInstructionTooltip('dyor_controls_wait','blocklyInstruction6a','tooltipInstruction6a');</script></li>
                </ol>
            </div>
		</div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh5KdWW4b">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">
                    Additional instructions</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-5w">
    <div class="container">
		<div class="media-container-row">
			<div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol id="workedInstructions">
					<li><div><span id='tooltipInstruction7'></span></div><div  id='blocklyInstruction7'></div><script>injectInstructionTooltip('variables_local','blocklyInstruction7','tooltipInstruction7');</script></li>
					<li><div><span id='tooltipInstruction8'></span></div><div  id='blocklyInstruction8'></div><script>injectInstructionTooltip1('variables_get','blocklyInstruction8','tooltipInstruction8');</script></li>
					<li><div><span id='tooltipInstruction9'></span></div><div  id='blocklyInstruction9'></div><script>injectInstructionTooltip1('variables_set','blocklyInstruction9','tooltipInstruction9');</script></li>
					<li><div><span id='tooltipInstruction10'></span></div><div  id='blocklyInstruction10'></div><script>injectInstructionTooltip('text_join','blocklyInstruction10','tooltipInstruction10');</script></li>
					<li><div><span id='tooltipInstruction11'></span></div><div  id='blocklyInstruction11'></div><script>injectInstructionTooltip('zum_piezo_buzzerav','blocklyInstruction11','tooltipInstruction11');</script></li>
				  </ol>
            </div>
		</div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh0wTdIZC">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">Basic Exercises</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-53">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol>
                    <li><strong>Repeating a sentence</strong><p>Old teaching school used to punish you by repeating the same sentence many times on a blackboard. Now, times are different and you can use your Arduino to print it as many times as you want. Print on the console 'I will not burp in class' 100 times.</p><p><strong>Hint: </strong></p><p><i> USe the repeat instruction for that.</i></p><button  type="button" title="Facilino code" onclick="showHideBasic('solutions1b','repeat_sentence.bly','exercise1b');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
										&nbsp;<button type="button"  class="btn-primary display-4" title="Arduino code" onclick="showHideBasicCode('solutions1b','repeat_sentence.bly','exercise1b','exercise1bc');"><span class="mbri-align-justify mbr-iconfont mbr-iconfont-btn"></span></button>
					<a onclick="onFileDownloaded('repeat_sentence.bly');">
					<button  type="button" class="btn-primary display-4" title="Download" ><span class="mbri-save mbr-iconfont mbr-iconfont-btn"></span></button></a></li>
					<li><strong>Repeating a numbered sentence</strong></p>Now, do the same as before, but the sentence must numbered at the beginning starting from 1.</p><strong>Hint: </strong><p><i>Use a variable and increase its value inside the loop. You can use the 'create text with' instruction to join the number and the sentence.</i></p><button  type="button" title="Facilino code" onclick="showHideBasic('solutions2b','repeat_numbered_sentence.bly','exercise2b');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
					&nbsp;<button type="button"  class="btn-primary display-4" title="Arduino code" onclick="showHideBasicCode('solutions2b','repeat_numbered_sentence.bly','exercise2b','exercise2bc');"><span class="mbri-align-justify mbr-iconfont mbr-iconfont-btn"></span></button>
					<a onclick="onFileDownloaded('repeat_numbered_sentence.bly');">
					<button  type="button" class="btn-primary display-4" title="Download" ><span class="mbri-save mbr-iconfont mbr-iconfont-btn"></span></button></a></li>
                </ol>
            </div>
        </div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh0wTdIZC" id="solutions_basic">
  <div class="container">
      <div class="inner-container" style="width: 100%;">
          <hr class="line" style="width: 25%;">
          <div class="section-text align-center mbr-fonts-style display-5">Basic Solutions</div>
          <hr class="line" style="width: 25%;">
      </div>
      </div>
</section>

<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions1b" style="display:none">
	<div class="container">
		<div class="media-container-row">
			<div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">
				<strong>Basic Exercise 1</strong>
			</div>
		</div>
		<div class="media-container-row"><div id='exercise1b'></div><div id='exercise1bc'></div></div>
	</div>
</section>

<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions2b" style="display:none">
	<div class="container">
		<div class="media-container-row">
			<div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">
				<strong>Basic Exercise 2</strong>
			</div>
		</div>
		<div class="media-container-row"><div id='exercise2b'></div><div id='exercise2bc'></div></div>
	</div>
</section>

<section class="mbr-section article content9 cid-qYh0wTdIZC">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">Intermediate Exercises</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-53">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol>
                    <li><strong>Hysteresis</strong><p>Implement a hysteresis effect to 'binarize' analog readings of potentiometer A0 position. If the value is higher than 2000 (Wemos D1 R32) or 500 (Arduino Uno) then the LED D12 must be on, while if the value is below 800 (Wemos D1 R32) or 200 (Arduino Uno), LED D12 must be off. Otherwise, the LED state doesn't change.</p><strong>Hint: </strong><p><i> Define a global boolean variable to determine the state of the LED D12 (HIGH or LOW). Then if the value of the potentiometer and the state of LED D12 is LOW then turn LED on and set the state to HIGH. Implement the same logic for the other case, but with opposite logic. That is if the value is below 800 (Wemos D1 R32) or 200 (Arduino Uno) and LED state is HIGH then turn off LED and set state to LOW.</i></p><button  type="button" title="Facilino code" onclick="showHideIntermediate('solutions1i','hysteresis'+window.board+'.bly','exercise1i');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
										&nbsp;<button type="button"  class="btn-primary display-4" title="Arduino code" onclick="showHideIntermediateCode('solutions1i','hysteresis'+window.board+'.bly','exercise1i','exercise1ic');"><span class="mbri-align-justify mbr-iconfont mbr-iconfont-btn"></span></button>
					<a onclick="onFileDownloaded('hysteresis'+window.board+'.bly');">
					<button  type="button" class="btn-primary display-4" title="Download" ><span class="mbri-save mbr-iconfont mbr-iconfont-btn"></span></button></a></li>

					<li><strong>Wait until and break loop</strong><p>At start up, wait for push-button D2 being pushed. Afterwards, start blinking LED D12 at a 1Hz frequency. In order to stop blinking use push-button D3 and repeat the sequence (wait-blink).</p><strong>Hint: </strong><p><i>Use the 'wait until' instruction with push-button begin LOW in the main loop. Then, use 'While' loop to implement the blinking routine. In order to stop blinking use the 'break out of loop' instruction if push-button D3 is LOW.</i></p><button  type="button" title="Facilino code" onclick="showHideIntermediate('solutions2i','wait_break'+window.board+'.bly','exercise2i');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
						&nbsp;<button type="button"  class="btn-primary display-4" title="Arduino code" onclick="showHideIntermediateCode('solutions2i','wait_break'+window.board+'.bly','exercise2i','exercise2ic');"><span class="mbri-align-justify mbr-iconfont mbr-iconfont-btn"></span></button>
					<a onclick="onFileDownloaded('wait_break'+window.board+'.bly');">
					<button  type="button" class="btn-primary display-4" title="Download" ><span class="mbri-save mbr-iconfont mbr-iconfont-btn"></span></button></a></li>
					<li><strong>Alarm effect</strong><p>Generate an alarm effect with the buzzer (pin D5). The alarm effect consists of two varying tones. The first one generates increasing frequencies that will exponentially increase 3% starting from 1318.51Hz to 1567.98Hz with a duration of 22ms. The second one generates increasing frequencies that will exponentially increase 4% starting from 1318.51Hz to 2349.32Hz with a duration of 12ms.</p><strong>Hint: </strong><p><i>Use 'While' instructions to generate the exponentially increasing frequencies. Initialize the frequency to 1318.51Hz and repeat the 'Advanced Buzzer' instruction until the maximum frequency is reached. Set the current frequency and tone duration as indicated.</i></p><button  type="button" title="Facilino code" onclick="showHideIntermediate('solutions3i','alarm_effect'+window.board+'.bly','exercise3i');" class="btn-primary display-4"><span class="mbri-extension mbr-iconfont mbr-iconfont-btn"></span></button>
					<a onclick="onFileDownloaded('alarm_effect'+window.board+'.bly');">
					<button  type="button" class="btn-primary display-4" title="Download" ><span class="mbri-save mbr-iconfont mbr-iconfont-btn"></span></button></a></li>
                </ol>
            </div>
        </div>
    </div>
</section>


<section class="mbr-section article content9 cid-qYh0wTdIZC" id="solutions_intermediate">
	<div class="container">
			<div class="inner-container" style="width: 100%;">
					<hr class="line" style="width: 25%;">
					<div class="section-text align-center mbr-fonts-style display-5">Intermediate Solutions</div>
					<hr class="line" style="width: 25%;">
			</div>
			</div>
</section>

	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions1i" style="display:none">
		<div class="container">
			<div class="media-container-row">
				<div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">
					<strong>Intermediate Exercise 1</strong>
				</div>
			</div>
			<div class="media-container-row"><div id='exercise1i'></div><div id='exercise1ic'></div></div>
		</div>
	</section>

	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions2i" style="display:none">
		<div class="container">
			<div class="media-container-row">
				<div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">
					<strong>Intermediate Exercise 2</strong>
				</div>
			</div>
			<div class="media-container-row"><div id='exercise2i'></div><div id='exercise2ic'></div></div>
		</div>
	</section>

	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions3i" style="display:none">
		<div class="container">
			<div class="media-container-row">
				<div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">
					<strong>Intermediate Exercise 3</strong>
				</div>
			</div>
			<div class="media-container-row"><div id='exercise3i'></div><div id='exercise3ic'></div></div>
		</div>
	</section>

<script>
	var solutions_basic = document.getElementById('solutions_basic');
	var solutions_intermediate = document.getElementById('solutions_intermediate');
	solutions_basic.style.display="none";
	solutions_intermediate.style.display="none";
	var sch=document.getElementById('schematic');
  sch.src='tutorial/assets/images/Electronics/multisensor'+window.board+'_bb.png';
  var sch_modules=document.getElementById('schematic_modules');
  sch_modules.src='tutorial/assets/images/Electronics/multisensor'+window.board+'_LEDs_pushbuttons_modules_bb.png';
  var sch_proto=document.getElementById('schematic_proto');
  sch_proto.src='tutorial/assets/images/Electronics/multisensor'+window.board+'_LEDs_pushbuttons_bb.png';
</script>
