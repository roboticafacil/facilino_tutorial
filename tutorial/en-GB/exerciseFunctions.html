<script>
var currentSolutions=0;
</script>

<section class="mbr-section content8 cid-qYnID8HJTn" id="title">
	<section class="mbr-section content4 cid-qYh0wRA9Kt" id="content4-4z">
		<div class="container">
			<div class="media-container-row">
				<div class="title col-12 col-md-8">
					<h2 class="align-center pb-3 mbr-fonts-style display-2">
						Function and Procedures</h2>
					<h3 class="mbr-section-subtitle align-center mbr-light mbr-fonts-style display-5">
						Learn how to implement functions and procedures to resue part of your code and call it at any part of your program.</h3>
					
				</div>
			</div>
		</div>
	</section>
</section>


<section class="cid-qYh0wSah5G" id="image3-50">
    <figure class="mbr-figure container">
            <div class="image-block" style="width: 50%;">
                <img src="tutorial/assets/images/Electronics/wemosD1_shield.png" width="1400" alt="Multifunction" title=""></img>
                
            </div>
    </figure>
</section>

<section class="mbr-section article content1 cid-qYh5PFH3xX" id="content1-5w">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">All required Electronics are already integrated in the Multisensor Shield.</div>
        </div>
    </div>
</section>


<section class="mbr-section article content1 cid-qYh0wSDsTN" id="content2-51">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">
                <blockquote><strong>Required material. </strong><ul><li>Arduino Uno (and compatible) or Wemos D1R2/D1R32.</li><li>A Multisensor Shield.</li></ul></blockquote>
            </div>
        </div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh5KdWW4b" id="content9-5u">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">
                    Preliminaries</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content1 cid-qYh5PFH3xX" id="content1-5w">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7"><strong>Morse code</strong> is a method of transmitting text information as a series of on-off tones, lights, or clicks that can be directly understood by a skilled listener or observer without special equipment. <strong>The Morse code two types of codes: dash and dot</strong>. The <strong>dot takes one unit</strong> of base time (depends on the sender), while the <strong>dash takes three units</strong> of base time. The <strong>time (without light or sound) between consecutive dashes and dots is one unit</strong> of base time, while the <strong>time between different letters is three units</strong> of base time and between words is seven units of base time. The following table shows the international convention for Morse code:</div>
        </div>
    </div>
</section>

<section class="section-table cid-table" id="table1-62">
  <div class="container container-table" style="width: 62%">
      <div class="table-wrapper">
        <div class="container">    
        </div>
        <div class="container scroll">
          <table class="table" cellspacing="0">
            <thead>
              <tr class="table-heads ">
              <th class="head-item mbr-fonts-style display-7">
                      Sign</th><th class="head-item mbr-fonts-style display-7">
                      Code</th><th class="head-item mbr-fonts-style display-7">
                      Sign</th><th class="head-item mbr-fonts-style display-7">
                      Code</th></tr>
            </thead>
            <tbody>
            <tr> 
			  <td class="body-item mbr-fonts-style display-7">A</td><td class="body-item mbr-fonts-style display-7">· —</td><td class="body-item mbr-fonts-style display-7">T</td><td class="body-item mbr-fonts-style display-7">—</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">B</td><td class="body-item mbr-fonts-style display-7">— · · ·</td><td class="body-item mbr-fonts-style display-7">U</td><td class="body-item mbr-fonts-style display-7">· · —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">C</td><td class="body-item mbr-fonts-style display-7">— · — ·</td><td class="body-item mbr-fonts-style display-7">V</td><td class="body-item mbr-fonts-style display-7">· · · —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">D</td><td class="body-item mbr-fonts-style display-7">— · ·</td><td class="body-item mbr-fonts-style display-7">W</td><td class="body-item mbr-fonts-style display-7">· — —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">E</td><td class="body-item mbr-fonts-style display-7">·</td><td class="body-item mbr-fonts-style display-7">X</td><td class="body-item mbr-fonts-style display-7">— · · —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">F</td><td class="body-item mbr-fonts-style display-7">· · — ·</td><td class="body-item mbr-fonts-style display-7">Y</td><td class="body-item mbr-fonts-style display-7">— · — —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">G</td><td class="body-item mbr-fonts-style display-7">— — ·</td><td class="body-item mbr-fonts-style display-7">Z</td><td class="body-item mbr-fonts-style display-7">— — · ·</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">H</td><td class="body-item mbr-fonts-style display-7">· · · ·</td><td class="body-item mbr-fonts-style display-7">0</td><td class="body-item mbr-fonts-style display-7">— — — — —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">I</td><td class="body-item mbr-fonts-style display-7">· ·</td><td class="body-item mbr-fonts-style display-7">1</td><td class="body-item mbr-fonts-style display-7">· — — — —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">J</td><td class="body-item mbr-fonts-style display-7">· — — —</td><td class="body-item mbr-fonts-style display-7">2</td><td class="body-item mbr-fonts-style display-7">· · — — —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">K</td><td class="body-item mbr-fonts-style display-7">— · —</td><td class="body-item mbr-fonts-style display-7">3</td><td class="body-item mbr-fonts-style display-7">· · · — —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">L</td><td class="body-item mbr-fonts-style display-7">· — · ·</td><td class="body-item mbr-fonts-style display-7">4</td><td class="body-item mbr-fonts-style display-7">· · · · —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">M</td><td class="body-item mbr-fonts-style display-7">— —</td><td class="body-item mbr-fonts-style display-7">5</td><td class="body-item mbr-fonts-style display-7">· · · · ·</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">N</td><td class="body-item mbr-fonts-style display-7">— ·</td><td class="body-item mbr-fonts-style display-7">6</td><td class="body-item mbr-fonts-style display-7">— · · · ·</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">O</td><td class="body-item mbr-fonts-style display-7">— — —</td><td class="body-item mbr-fonts-style display-7">7</td><td class="body-item mbr-fonts-style display-7">— — · · ·</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">P</td><td class="body-item mbr-fonts-style display-7">· — — ·</td><td class="body-item mbr-fonts-style display-7">8</td><td class="body-item mbr-fonts-style display-7">— — — · ·</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">Q</td><td class="body-item mbr-fonts-style display-7">— — · —</td><td class="body-item mbr-fonts-style display-7">9</td><td class="body-item mbr-fonts-style display-7">— — — — ·</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">R</td><td class="body-item mbr-fonts-style display-7">· — ·</td><td class="body-item mbr-fonts-style display-7">.</td><td class="body-item mbr-fonts-style display-7">· — · — · —</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">S</td><td class="body-item mbr-fonts-style display-7">· · ·</td><td class="body-item mbr-fonts-style display-7">,</td><td class="body-item mbr-fonts-style display-7">— · — · — —</td></tr></tbody>
          </table>
        </div>
        <div class="container table-info-container">
          
        </div>
      </div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh5KdWW4b" id="content9-5u">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">
                    Encryption</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content1 cid-qYh5PFH3xX" id="content1-5w">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7"><strong>Encryption</strong> The Atbash cipher is a simple substitution cipher from Biblical times; it reverses the alphabet such that each letter is mapped to the letter in the same position in the reverse of the alphabet. The original implementation (ca. 500 BC) was for the Hebrew alphabet and there are Old Testament references to it. The Atbash cipher has also been associated with various forms of mysticism. In modern times, it is referred to as a reverse alphabet code</div>
        </div>
    </div>
</section>

<section class="section-table cid-table" id="table1-62">
  <div class="container container-table" style="width: 62%">
      <div class="table-wrapper">
        <div class="container">    
        </div>
        <div class="container scroll">
          <table class="table" cellspacing="0">
            <thead>
              <tr class="table-heads ">
              <th class="head-item mbr-fonts-style display-7" colspan="4">
                      Atbash Encryption Table</th></tr>
            </thead>
            <tbody>
            <tr> 
			  <td class="body-item mbr-fonts-style display-7">a&#8594;z</td><td class="body-item mbr-fonts-style display-7">b&#8594;y</td><td class="body-item mbr-fonts-style display-7">c&#8594;x</td><td class="body-item mbr-fonts-style display-7">d&#8594;w</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">e&#8594;v</td><td class="body-item mbr-fonts-style display-7">f&#8594;u</td><td class="body-item mbr-fonts-style display-7">g&#8594;t</td><td class="body-item mbr-fonts-style display-7">h&#8594;s</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">i&#8594;r</td><td class="body-item mbr-fonts-style display-7">j&#8594;q</td><td class="body-item mbr-fonts-style display-7">k&#8594;p</td><td class="body-item mbr-fonts-style display-7">l&#8594;o</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">m&#8594;n</td><td class="body-item mbr-fonts-style display-7">n&#8594;m</td><td class="body-item mbr-fonts-style display-7">o&#8594;l</td><td class="body-item mbr-fonts-style display-7">p&#8594;k</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">q&#8594;j</td><td class="body-item mbr-fonts-style display-7">r&#8594;i</td><td class="body-item mbr-fonts-style display-7">s&#8594;h</td><td class="body-item mbr-fonts-style display-7">t&#8594;g</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">u&#8594;f</td><td class="body-item mbr-fonts-style display-7">v&#8594;e</td><td class="body-item mbr-fonts-style display-7">w&#8594;d</td><td class="body-item mbr-fonts-style display-7">x&#8594;c</td></tr><tr>
              <td class="body-item mbr-fonts-style display-7">y&#8594;b</td><td class="body-item mbr-fonts-style display-7">z&#8594;a</td></tr></tbody>
          </table>
        </div>
        <div class="container table-info-container">
          
        </div>
      </div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh5KdWW4b" id="content9-5u">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">
                    Worked instructions</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content1 cid-qYh5PFH3xX" id="content1-5w">
    <div class="container">
		<div class="media-container-row"><div id='blocklyInstruction1'></div><script>injectInstruction('procedures_defnoreturn','blocklyInstruction1');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction2'></div><script>injectInstruction('procedures_defreturn','blocklyInstruction2');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction3'></div><script>injectInstruction1('procedures_callnoreturn','blocklyInstruction3');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction4'></div><script>injectInstruction1('procedures_callreturn','blocklyInstruction4');</script></div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh5KdWW4b">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">
                    Additional instructions</div>
            <hr class="line" style="width: 25%;">
        </div>
        </div>
</section>

<section class="mbr-section article content1 cid-qYh5PFH3xX" id="content1-5w">
    <div class="container">
		<div class="media-container-row"><div id='blocklyInstruction5'></div><script>injectInstruction('text_append','blocklyInstruction5');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction6'></div><script>injectInstruction('text_length','blocklyInstruction6');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction7'></div><script>injectInstruction('text_charAt','blocklyInstruction7');</script></div>
		<div class="media-container-row"><div id='blocklyInstruction8'></div><script>injectInstruction('text_to_text','blocklyInstruction8');</script></div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh0wTdIZC" id="exercise7_1">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">Exercises</div>
            <hr class="line" style="width: 25%;">
        </div>
    </div>
</section>

<section class="mbr-section article content11 cid-qYh0wTJYr3" id="content11-53">
    <div class="container">
        <div class="media-container-row">
            <div class="mbr-text counter-container col-12 col-md-8 mbr-fonts-style display-7">
                <ol>
                    <li><strong>S.O.S.</strong><p>Implement two functions: <i>dash</i> and <i>dot</i>. The dash and dot functions will turn on and off blue LED (connected to pin D13). The base time for the dash and dot functions will be fixed to 200ms. Try to transmite and S.O.S message based on the table in the Preliminaries (after the message has been transmitted, you can repeat it if you make a long pause, say of 10000ms). All required Electronics are already integrated in the Multisensorshield.</p><strong>Hint: </strong><p><i>The sequence for the dot function is: turn on LED, wait 200ms, turn off LED and wait 200ms. Similarly, the sequence for the dash function is turn on LED, wait 600ms, turn off LED and wait 200ms. Note that, for simplicity, the time needed between consecutive dashes and dots is included, which implies that the time between letters will be 400ms</i>. Add an integer parameter and repeat the dash and dot sequence inside a </i>for<i> loop instruction.</i></p><button  type="button" onclick="showHide('solutions1','sos_wemosD1R32.bly','exercise1');" class="btn-primary display-4"><span class="mbri-preview mbr-iconfont mbr-iconfont-btn"></span></button>
					<a onclick="onFileDownloaded('sos_wemosD1R32.bly');">
					<button  type="button" class="btn-primary display-4"><span class="mbri-save mbr-iconfont mbr-iconfont-btn"></span></button></a></li>
					
					<li><strong>Encrypt</strong><p>Implement a <strong>function that accepts a string message</strong> (as input argument) and <strong>returns a string</strong>. The function must encrypt a message based on the Atbash encryption table.</p><strong>Hint: </strong><p><i>Inside the function, implement a </i>while<i> loop, that iterates over the characters of the string. Then perform new_c&#8592;'z'-c+'a', being </i>c<i> the read character and </i>new_c</i> the character to append to the output string.</i></p><button  type="button" onclick="showHide('solutions2','encrypt.bly','exercise2');" class="btn-primary display-4"><span class="mbri-preview mbr-iconfont mbr-iconfont-btn"></span></button>
					<a onclick="onFileDownloaded('encrypt.bly');">
					<button  type="button" class="btn-primary display-4"><span class="mbri-save mbr-iconfont mbr-iconfont-btn"></span></button></a></li>
                </ol>
            </div>
        </div>
    </div>
</section>

<section class="mbr-section article content9 cid-qYh0wTdIZC" id="solutions">
    <div class="container">
        <div class="inner-container" style="width: 100%;">
            <hr class="line" style="width: 25%;">
            <div class="section-text align-center mbr-fonts-style display-5">Solutions</div>
            <hr class="line" style="width: 25%;">
        </div>
    </div>
</section>

	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions1" style="display:none">
		<div class="container">
			<div class="media-container-row">
				<div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">
					<strong>Exercise 1</strong>
				</div>
			</div>
			<div class="media-container-row"><div id='exercise1'></div></div>
		</div>
	</section>
	
	<section class="mbr-section article content1 cid-qYh5PFH3xX" id="solutions2" style="display:none">
		<div class="container">
			<div class="media-container-row">
				<div class="mbr-text col-12 col-md-8 mbr-fonts-style display-7">
					<strong>Exercise 2</strong>
				</div>
			</div>
			<div class="media-container-row"><div id='exercise2'></div></div>
		</div>
	</section>

<script>
var solutions = document.getElementById('solutions');
solutions.style.display="none";
//HideButton('but1'); HideButton('but2');
</script>